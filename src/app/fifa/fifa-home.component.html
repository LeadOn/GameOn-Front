<section id="fifa-game-played" class="px-4 pt-4">
  <app-loading-spinner
    *ngIf="loading == true"
    [@inOutAnimation]
  ></app-loading-spinner>

  <div>
    <app-common-page-header
      [icon]="footballIcon"
      [title]="'Matchs jouÃ©s'"
    ></app-common-page-header>

    <div
      class="flex flex-col bg-bgLight dark:bg-bgDark p-4 rounded-lg text-primary dark:text-primaryDark mb-4 border border-bgLightDarker dark:border-bgDarkDarker mt-4 drop-shadow-lg"
    >
      <span class="text-lg font-semibold">Filtres</span>

      <div class="mt-2">
        <div>
          <span class="text-sm">Nombre de matchs</span>
          <select
            [(ngModel)]="numberOfGames"
            class="focus:ring-secondary focus:border-secondary rounded-lg w-full border-gray-300 dark:bg-bgDarkDarker"
          >
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="40">40</option>
            <option value="50">50</option>
          </select>
        </div>

        <div class="mt-2">
          <span class="text-sm">Platforme</span>
          <select
            [(ngModel)]="platformId"
            class="focus:ring-secondary focus:border-secondary rounded-lg w-full border-gray-300 dark:bg-bgDarkDarker"
          >
            <option value="0">--- Plateforme ---</option>
            <option
              *ngFor="let platform of platforms"
              value="{{ platform.id }}"
            >
              {{ platform.name }}
            </option>
          </select>
        </div>

        <div class="mt-2">
          <span class="text-sm block">Entre le :</span>
          <input
            [(ngModel)]="startDate"
            type="date"
            class="focus:ring-secondary focus:border-secondary rounded-lg w-full border-gray-300 dark:bg-bgDarkDarker"
          />
        </div>

        <div class="mt-2">
          <span class="text-sm block">et le :</span>
          <input
            [(ngModel)]="endDate"
            type="date"
            class="focus:ring-secondary focus:border-secondary rounded-lg w-full border-gray-300 dark:bg-bgDarkDarker"
          />
        </div>
      </div>

      <button
        (click)="searchGame()"
        class="w-full mt-4 rounded-lg border border-secondary py-2"
      >
        Filtrer
      </button>
    </div>
  </div>

  <div *ngIf="loading == false" [@inOutAnimation]>
    <div class="mt-4 flex flex-col w-full space-y-4">
      <app-fifa-game-history-card
        *ngFor="let game of games"
        [game]="game"
      ></app-fifa-game-history-card>
    </div>
  </div>
</section>
