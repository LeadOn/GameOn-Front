<div
  class="flex space-x-2 rounded-lg drop-shadow-lg w-full mb-4 animate-fade-up"
  [ngClass]="{
    'bg-gray-600/40': game.endOfGameResult == null,
    'bg-blue-600/40': game.endOfGameResult != null && won == true,
    'bg-red-600/40': game.endOfGameResult != null && won == false
  }"
>
  <div class="flex" [routerLink]="['/lol/game', game.matchId, playerId]">
    <div
      class="w-2 rounded-l-lg"
      [ngClass]="{
        'bg-gray-500': game.endOfGameResult == null,
        'bg-blue-600': game.endOfGameResult != null && won == true,
        'bg-red-600': game.endOfGameResult != null && won == false
      }"
    ></div>
  </div>

  <div
    class="flex flex-col w-full"
    [routerLink]="['/lol/game', game.matchId, playerId]"
  >
    <div class="flex w-full justify-between border-b mb-2 pb-2 border-gray-300">
      <div class="flex space-x-2 text-sm items-center justify-center">
        <span
          class="text-gray-600 font-bold"
          *ngIf="game.endOfGameResult == null"
          >Inconnu</span
        >
        <span
          class="text-red-600 font-bold"
          *ngIf="game.endOfGameResult != null && won == false"
          >Défaite</span
        >
        <span
          class="text-blue-600 font-bold"
          *ngIf="game.endOfGameResult != null && won == true"
          >Victoire</span
        >
        <span class="text-gray-200" *ngIf="gameDuration != null">{{
          gameDuration
        }}</span>
      </div>

      <div class="flex text-sm items-center justify-center text-gray-200">
        <span class="pr-2" *ngIf="game.queueType == ''">File inconnue</span>
        <span class="pr-2" *ngIf="game.queueType == 'RANKED_SOLO_DUO'"
          >Classée en solo/duo</span
        >
        <span class="pr-2" *ngIf="game.queueType == 'RANKED_FLEX'"
          >Classée flexible</span
        >
      </div>
    </div>

    <div class="flex w-full justify-between mb-2 items-center">
      <div class="flex flex-col items-center">
        <img
          class="rounded-full w-16"
          src="assets/img/gameon-logo.webp"
          *ngIf="championName == null || championName == ''"
        />

        <img
          class="rounded-full w-16"
          src="https://ddragon.leagueoflegends.com/cdn/{{
            currentLoLPatch
          }}/img/champion/{{ championName }}.png"
          *ngIf="championName != null && championName != ''"
        />

        <span
          class="bg-gray-800 text-white text-xs rounded-full -mt-2 z-50"
          *ngIf="champLevel == null || champLevel == 0"
          >??</span
        >

        <span
          class="bg-gray-800 text-white text-xs rounded-full -mt-2 z-50 px-1"
          *ngIf="champLevel != null && champLevel != 0"
          >{{ champLevel }}</span
        >
      </div>

      <div class="flex flex-col items-center text-gray-300 text-sm">
        <span>{{ kills }} / {{ deaths }} / {{ assists }}</span>
        <span>{{ kda }} KDA</span>
      </div>

      <div class="flex flex-col">
        <div class="flex">
          <img
            *ngIf="item0 != 0"
            class="w-6"
            src="https://ddragon.leagueoflegends.com/cdn/{{
              currentLoLPatch
            }}/img/item/{{ item0 }}.png"
          /><img
            *ngIf="item1 != 0"
            class="w-6"
            src="https://ddragon.leagueoflegends.com/cdn/{{
              currentLoLPatch
            }}/img/item/{{ item1 }}.png"
          /><img
            class="w-6"
            *ngIf="item2 != 0"
            src="https://ddragon.leagueoflegends.com/cdn/{{
              currentLoLPatch
            }}/img/item/{{ item2 }}.png"
          />
        </div>
        <div class="flex">
          <img
            *ngIf="item3 != 0"
            class="w-6"
            src="https://ddragon.leagueoflegends.com/cdn/{{
              currentLoLPatch
            }}/img/item/{{ item3 }}.png"
          /><img
            class="w-6"
            *ngIf="item4 != 0"
            src="https://ddragon.leagueoflegends.com/cdn/{{
              currentLoLPatch
            }}/img/item/{{ item4 }}.png"
          /><img
            class="w-6"
            *ngIf="item5 != 0"
            src="https://ddragon.leagueoflegends.com/cdn/{{
              currentLoLPatch
            }}/img/item/{{ item5 }}.png"
          /><img
            *ngIf="item6 != 0"
            class="w-6"
            src="https://ddragon.leagueoflegends.com/cdn/{{
              currentLoLPatch
            }}/img/item/{{ item6 }}.png"
          />
        </div>
      </div>
    </div>
  </div>

  <div class="flex" (click)="updateGame()">
    <div
      class="w-8 rounded-r-lg flex justify-center items-center text-white"
      [ngClass]="{
        'bg-gray-500': game.endOfGameResult == null,
        'bg-blue-600': game.endOfGameResult != null && won == true,
        'bg-red-600': game.endOfGameResult != null && won == false
      }"
    >
      <button class="p-1">
        <fa-icon [icon]="refreshIcon"></fa-icon>
      </button>
    </div>
  </div>
</div>
