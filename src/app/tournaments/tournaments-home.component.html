<div
  class="flex flex-row justify-center items-center bg-primary p-4 rounded-lg m-8 md:mx-16 lg:mx-32 text-white space-x-2">
  <div
    class="rounded-full bg-secondary p-2 flex flex-col items-center justify-center">
    <img src="../../assets/img/trophee.svg" class="w-8" />
  </div>

  <span class="text-white">Tournois</span>
</div>

<div
  class="flex flex-col space-y-2 justify-center items-center bg-primary p-4 rounded-lg m-8 md:mx-16 lg:mx-32 text-white">
  <div
    class="flex flex-col items-center w-full bg-primaryDarker p-4 rounded-lg neomorphism-inner-primaryDarker">
    <div class="flex flex-row items-center space-x-2">
      <div
        class="rounded-full bg-secondary p-2 flex flex-col items-center justify-center">
        <img src="../../assets/img/rules.svg" class="w-8" />
      </div>

      <span class="text-white">R√®gles</span>
    </div>
  </div>

  <div
    class="flex flex-col text-justify items-center w-full bg-primaryDarker p-4 rounded-lg neomorphism-inner-primaryDarker">
    <span class="mt-4">
      Bienvenue √† tous dans la section tournois de YuGames ! Ici, vous trouverez
      l'int√©gralit√© des tournois pass√©s et √† venir ayant eu lieu au sein de
      notre petit groupe de joueurs ! Comme toute comp√©tition, celle-ci inclus
      quelques r√®gles √©l√©mentaires √† respecter.
    </span>

    <span class="text-red-500 mt-4">
      Si vous ne les appliquez pas, vous risquez un ban d√©finitif de nos
      comp√©titions et de la plateforme.
    </span>

    <span class="underline mt-6">
      Voici les r√®gles en vigueur pour les tournois (mise √† jour le 14/09/2023 √†
      15h) :
    </span>

    <ul class="w-full px-8 mt-4 list-decimal">
      <li>
        Les phases de poule vont √™tre jou√©es en matchs aller-retour (
        <span class="text-green-500">Victoire</span>
        = 3 points,
        <span class="text-red-500">D√©faite</span>
        = 0 points,
        <span class="text-yellow-500">Nuls</span>
        = 1 points)
      </li>
      <li>
        Vous devrez s√©lectionner une √©quipe, et ne jouer que celle-ci durant
        toute la dur√©e du tournoi.
        <span class="text-yellow-500">
          Remarque : seules les √©quipes
          <img
            src="../../assets/img/star-yellow.svg"
            class="w-4 inline-block" />
          <img
            src="../../assets/img/star-yellow.svg"
            class="w-4 inline-block" />
          <img
            src="../../assets/img/star-yellow.svg"
            class="w-4 inline-block" />
          <img
            src="../../assets/img/star-yellow.svg"
            class="w-4 inline-block" />
          <img src="../../assets/img/star-gray.svg" class="w-4 inline-block" />
          sont autoris√©es.
        </span>
      </li>
      <li>
        Les phases finales se joueront comme ceci : 8√®me / quart / demi / finale
      </li>
      <li>
        2 groupes seront d√©termin√©s par les phases de poule, il y aura donc 2
        phases finales
      </li>
      <li>Les doublons d'√©quipe sont autoris√©s (exemple : PSG vs PSG)</li>
      <li>
        Un match lanc√© doit √™tre jou√©.
        <span class="text-red-500">
          Rage Quit / Bug / toute situation malencontreuse (bagarres, ...)
          donneront victorieux la personne ayant le meilleur score √† l'instant
          T. Si la situation est provoqu√©e par l'un des joueurs, celui-ci perdra
          3-0 automatiquement
        </span>
      </li>
      <li>
        Si un joueur ext√©rieur perturbe le match en cours, il se verra
        automatiquement
        <span class="text-red-500">perdre son prochain match</span>
        , et si r√©cidive,
        <span class="text-red-500">discalification imm√©diate</span>
      </li>
      <li>Aucun match ne peux √™tre rejou√©.</li>
      <li>
        Si un joueur souhaite mettre pause pour toute raison (changements,
        d√©mangeaison, ...), celui-ci doit avertir verbalement son adversaire
        avant d'appuyer sur pause
      </li>
      <li class="text-red-500">
        Tout comportement injurieux provoquera une sanction ainsi qu'une
        discalification
      </li>
    </ul>
  </div>
</div>

<div
  *ngIf="tournaments.length == 0"
  class="flex flex-col space-y-2 justify-center items-center bg-primary p-4 rounded-lg m-8 md:mx-16 lg:mx-32 text-white">
  <div
    class="flex flex-col items-center w-full bg-primaryDarker p-4 rounded-lg neomorphism-inner-primaryDarker">
    <div class="flex flex-row items-center space-x-2">
      <div
        class="rounded-full bg-secondary p-2 flex flex-col items-center justify-center">
        <img src="../../assets/img/trophee.svg" class="w-8" />
      </div>

      <span class="text-white">
        Aucun tournoi n'est actuellement disponible √† la consultation.
      </span>
    </div>
  </div>
</div>

<div
  *ngIf="loading == false"
  class="text-white mt-8 flex flex-col space-y-4 md:space-y-0 md:grid md:grid-cols-3 lg:grid-cols-4 md:auto-rows-auto md:gap-5 m-8 md:mx-16 lg:mx-32">
  <a
    *ngFor="let tournament of tournaments"
    [routerLink]="['/tournaments', tournament.id]"
    class="hidden md:flex drop-shadow-xl flex-col h-72 items-center bg-secondaryDarker p-6 rounded-lg transition transition-all ease-in-out duration-200 hover:bg-secondary">
    <div class="mt-4">
      <img
        *ngIf="tournament.logoUrl != null && tournament.logoUrl != ''"
        class="rounded-full"
        src="{{ tournament.logoUrl }}"
        width="128" />

      <img
        *ngIf="tournament.logoUrl == null || tournament.logoUrl == ''"
        class="rounded-full"
        src="../../assets/img/yugames-logo.png"
        width="128" />
    </div>

    <div class="mt-2 text-center">
      <span class="inline-block text-lg">{{ tournament.name }}</span>
      <br />
      <span class="inline-block italic text-xs">
        üìÖ Du {{ tournament.plannedFrom.toString().split("T")[0] }} au
        {{ tournament.plannedTo.toString().split("T")[0] }}
      </span>

      <span
        class="text-xs px-4 rounded-xl bg-red-500"
        [class.bg-red-500]="tournament.state == 0"
        [class.bg-yellow-500]="tournament.state == 1"
        [class.bg-primary-500]="tournament.state != 0 && tournament.state != 1">
        {{ getState(tournament.state) }}
      </span>
    </div>
  </a>

  <a
    *ngFor="let tournament of tournaments"
    [routerLink]="['/tournaments', tournament.id]"
    class="md:hidden bg-secondaryDarker p-4 rounded-lg drop-shadow-xl flex flex-row space-x-4 transition transition-all ease-in-out duration-200 hover:bg-secondary">
    <img
      class="w-16 rounded-full"
      *ngIf="tournament.logoUrl != null && tournament.logoUrl != ''"
      src="{{ tournament.logoUrl }}" />
    <img
      class="w-16 rounded-full"
      *ngIf="tournament.logoUrl == null || tournament.logoUrl == ''"
      src="../../assets/img/yugames-logo.png" />

    <div class="flex flex-col justify-center align-center justify-center">
      <span class="text-lg">
        {{ tournament.name }}
        <span
          class="text-xs px-4 rounded-xl bg-red-500"
          [class.bg-red-500]="tournament.state == 0"
          [class.bg-yellow-500]="tournament.state == 1"
          [class.bg-primary-500]="
            tournament.state != 0 && tournament.state != 1
          ">
          {{ getState(tournament.state) }}
        </span>
      </span>
      <span class="text-xs">
        üìÖ Du {{ tournament.plannedFrom.toString().split("T")[0] }} au
        {{ tournament.plannedTo.toString().split("T")[0] }}
      </span>
    </div>
  </a>
</div>
